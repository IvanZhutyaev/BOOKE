<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Å—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ –ø–æ–∫—É–ø–∫–∞—Ö</title>
    <style>
        body {
            font-family: 'Segoe UI', Arial, sans-serif;
            background: #f0f0f0;
            margin: 0;
            padding: 20px;
        }
        .test-container {
            max-width: 600px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 16px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }
        h1 {
            color: #2d6a4f;
            text-align: center;
            margin-bottom: 30px;
        }
        .test-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }
        .test-btn {
            background: linear-gradient(135deg, #2d6a4f 0%, #1b4332 100%);
            color: white;
            border: none;
            padding: 15px 20px;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            box-shadow: 0 4px 12px rgba(45,106,79,0.3);
        }
        .test-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(45,106,79,0.4);
        }
        .description {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 12px;
            border-left: 4px solid #2d6a4f;
        }
        .description h3 {
            color: #2d6a4f;
            margin-top: 0;
        }
        .description ul {
            margin: 10px 0;
            padding-left: 20px;
        }
        .description li {
            margin: 5px 0;
            color: #555;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>üéÆ –¢–µ—Å—Ç –Ω–æ–≤—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ –ø–æ–∫—É–ø–∫–∞—Ö</h1>
        
        <div class="description">
            <h3>‚ú® –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å:</h3>
            <ul>
                <li><strong>–ù–æ–≤—ã–π –¥–∏–∑–∞–π–Ω:</strong> –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Å –≥—Ä–∞–¥–∏–µ–Ω—Ç–∞–º–∏ –∏ –∞–Ω–∏–º–∞—Ü–∏—è–º–∏</li>
                <li><strong>–¢–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:</strong> –†–∞–∑–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è —Å–µ–π—Ñ–æ–≤, –º–æ–Ω–µ—Ç –∏ –Ω–∞–±–æ—Ä–æ–≤</li>
                <li><strong>–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞:</strong> –û–¥–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –ø–æ–∫—É–ø–æ–∫</li>
                <li><strong>–ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å:</strong> –ö—Ä–∞—Å–∏–≤–æ –≤—ã–≥–ª—è–¥–∏—Ç –Ω–∞ –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö</li>
                <li><strong>–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å:</strong> Hover-—ç—Ñ—Ñ–µ–∫—Ç—ã –∏ –ø–ª–∞–≤–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã</li>
            </ul>
        </div>

        <div class="test-buttons">
            <button class="test-btn" onclick="testSafePurchase()">üîí –¢–µ—Å—Ç –ø–æ–∫—É–ø–∫–∏ —Å–µ–π—Ñ–∞</button>
            <button class="test-btn" onclick="testCoinPurchase()">ü™ô –¢–µ—Å—Ç –ø–æ–∫—É–ø–∫–∏ –º–æ–Ω–µ—Ç</button>
            <button class="test-btn" onclick="testSetPurchase()">üéÅ –¢–µ—Å—Ç –ø–æ–∫—É–ø–∫–∏ –Ω–∞–±–æ—Ä–∞</button>
            <button class="test-btn" onclick="testReward()">üéâ –¢–µ—Å—Ç –Ω–∞–≥—Ä–∞–¥—ã</button>
        </div>

        <div class="description">
            <h3>üîß –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:</h3>
            <ul>
                <li><code>showPurchaseNotification(title, rewards, itemType)</code> - –¥–ª—è –ø–æ–∫—É–ø–æ–∫ –≤ –º–∞–≥–∞–∑–∏–Ω–µ</li>
                <li><code>showRewardNotification(title, rewards)</code> - –¥–ª—è –æ–±—â–∏—Ö –Ω–∞–≥—Ä–∞–¥</li>
                <li>–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ç–∏–ø—ã: 'safes', 'coins', 'sets'</li>
                <li>–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –Ω–∞–≥—Ä–∞–¥—ã: money, credits, xp</li>
            </ul>
        </div>
    </div>

    <!-- –û–≤–µ—Ä–ª–µ–π –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π -->
    <div id="crate-overlay" style="position:fixed;top:0;left:0;width:100%;height:100%;display:none;align-items:center;justify-content:center;z-index:40;background:rgba(0,0,0,0.5);"></div>

    <script>
        // –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º —Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
        function formatNumber(value) {
            if (value >= 1000000) {
                return (value / 1000000).toFixed(1) + 'M';
            } else if (value >= 1000) {
                return (value / 1000).toFixed(1) + 'k';
            }
            return value.toString();
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–∫–∞–∑–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ –ø–æ–∫—É–ø–∫–∞—Ö
        function showPurchaseNotification(title, rewards, itemType = 'safes') {
            const overlay = document.getElementById('crate-overlay');
            
            // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –∏–∫–æ–Ω–∫—É –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞ —Ç–æ–≤–∞—Ä–∞
            let iconSrc = 'assets/icons/money.png';
            let bgColor = '#2d6a4f';
            let borderColor = '#1b4332';
            
            switch(itemType) {
                case 'safes':
                    iconSrc = 'assets/icons/safe.png';
                    bgColor = '#424242';
                    borderColor = '#2d2d2d';
                    break;
                case 'coins':
                    iconSrc = 'assets/icons/coin.png';
                    bgColor = '#b8860b';
                    borderColor = '#8b6914';
                    break;
                case 'sets':
                    iconSrc = 'assets/icons/gift.png';
                    bgColor = '#8e24aa';
                    borderColor = '#6a1b9a';
                    break;
                default:
                    iconSrc = 'assets/icons/check.png';
                    bgColor = '#2d6a4f';
                    borderColor = '#1b4332';
            }
            
            // –°–æ–∑–¥–∞–µ–º HTML –¥–ª—è –Ω–∞–≥—Ä–∞–¥
            let rewardsHTML = '';
            if (rewards.money) {
                rewardsHTML += `<div style="display:flex;align-items:center;gap:8px;margin:8px 0;padding:8px 12px;background:rgba(255,255,255,0.1);border-radius:8px;border:1px solid rgba(255,255,255,0.2);">
                    <div style="width:24px;height:24px;background:#ccc;border-radius:4px;display:flex;align-items:center;justify-content:center;font-size:10px;color:#666;">PNG</div>
                    <span style="font-size:18px;font-weight:600;color:#fff;">+${formatNumber(rewards.money)}$</span>
                </div>`;
            }
            if (rewards.credits) {
                rewardsHTML += `<div style="display:flex;align-items:center;gap:8px;margin:8px 0;padding:8px 12px;background:rgba(255,255,255,0.1);border-radius:8px;border:1px solid rgba(255,255,255,0.2);">
                    <div style="width:24px;height:24px;background:#ccc;border-radius:4px;display:flex;align-items:center;justify-content:center;font-size:10px;color:#666;">PNG</div>
                    <span style="font-size:18px;font-weight:600;color:#fff;">+${rewards.credits}</span>
                </div>`;
            }
            if (rewards.xp) {
                rewardsHTML += `<div style="display:flex;align-items:center;gap:8px;margin:8px 0;padding:8px 12px;background:rgba(255,255,255,0.1);border-radius:8px;border:1px solid rgba(255,255,255,0.2);">
                    <div style="width:24px;height:24px;background:#ccc;border-radius:4px;display:flex;align-items:center;justify-content:center;font-size:10px;color:#666;">PNG</div>
                    <span style="font-size:18px;font-weight:600;color:#fff;">+${rewards.xp} XP</span>
                </div>`;
            }
            
            overlay.innerHTML = `
                <div style="
                    background: linear-gradient(135deg, ${bgColor} 0%, ${borderColor} 100%);
                    padding: 24px 28px;
                    border-radius: 16px;
                    text-align: center;
                    animation: purchasePop 0.5s ease-out;
                    box-shadow: 0 8px 32px rgba(0,0,0,0.3);
                    border: 2px solid rgba(255,255,255,0.1);
                    max-width: 320px;
                    width: 90%;
                    position: relative;
                    overflow: hidden;
                ">
                    <!-- –î–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã -->
                    <div style="position:absolute;top:-20px;right:-20px;width:60px;height:60px;background:rgba(255,255,255,0.1);border-radius:50%;"></div>
                    <div style="position:absolute;bottom:-30px;left:-30px;width:80px;height:80px;background:rgba(255,255,255,0.05);border-radius:50%;"></div>
                    
                    <!-- –ò–∫–æ–Ω–∫–∞ -->
                    <div style="width:64px;height:64px;background:#ccc;border-radius:12px;margin:0 auto 16px;display:flex;align-items:center;justify-content:center;font-size:10px;color:#666;filter:drop-shadow(0 4px 8px rgba(0,0,0,0.3));">
                        PNG-image
                    </div>
                    
                    <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
                    <h3 style="margin:0 0 20px;font-size:24px;font-weight:700;color:#fff;text-shadow:0 2px 4px rgba(0,0,0,0.3);">
                        ${title}
                    </h3>
                    
                    <!-- –ù–∞–≥—Ä–∞–¥—ã -->
                    <div style="margin-bottom:24px;">
                        ${rewardsHTML}
                    </div>
                    
                    <!-- –ö–Ω–æ–ø–∫–∞ -->
                    <button id="purchase-ok" style="
                        background: linear-gradient(135deg, #4caf50 0%, #45a049 100%);
                        border: none;
                        border-radius: 12px;
                        color: #fff;
                        font-size: 16px;
                        font-weight: 600;
                        padding: 12px 32px;
                        cursor: pointer;
                        transition: all 0.2s ease;
                        box-shadow: 0 4px 12px rgba(76,175,80,0.3);
                        text-transform: uppercase;
                        letter-spacing: 0.5px;
                    " onmouseover="this.style.transform='translateY(-2px)';this.style.boxShadow='0 6px 16px rgba(76,175,80,0.4)'" 
                       onmouseout="this.style.transform='translateY(0)';this.style.boxShadow='0 4px 12px rgba(76,175,80,0.3)'">
                        –û—Ç–ª–∏—á–Ω–æ!
                    </button>
                </div>
            `;
            
            overlay.style.display = 'flex';
            overlay.querySelector('#purchase-ok').onclick = () => {
                overlay.style.display = 'none';
            };
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–∫–∞–∑–∞ –æ–±—â–∏—Ö –Ω–∞–≥—Ä–∞–¥
        function showRewardNotification(title, rewards) {
            const overlay = document.getElementById('crate-overlay');
            
            // –°–æ–∑–¥–∞–µ–º HTML –¥–ª—è –Ω–∞–≥—Ä–∞–¥
            let rewardsHTML = '';
            if (rewards.money) {
                rewardsHTML += `<div style="display:flex;align-items:center;gap:8px;margin:8px 0;padding:8px 12px;background:rgba(255,255,255,0.1);border-radius:8px;border:1px solid rgba(255,255,255,0.2);">
                    <div style="width:24px;height:24px;background:#ccc;border-radius:4px;display:flex;align-items:center;justify-content:center;font-size:10px;color:#666;">PNG</div>
                    <span style="font-size:18px;font-weight:600;color:#fff;">+${formatNumber(rewards.money)}$</span>
                </div>`;
            }
            if (rewards.credits) {
                rewardsHTML += `<div style="display:flex;align-items:center;gap:8px;margin:8px 0;padding:8px 12px;background:rgba(255,255,255,0.1);border-radius:8px;border:1px solid rgba(255,255,255,0.2);">
                    <div style="width:24px;height:24px;background:#ccc;border-radius:4px;display:flex;align-items:center;justify-content:center;font-size:10px;color:#666;">PNG</div>
                    <span style="font-size:18px;font-weight:600;color:#fff;">+${rewards.credits}</span>
                </div>`;
            }
            if (rewards.xp) {
                rewardsHTML += `<div style="display:flex;align-items:center;gap:8px;margin:8px 0;padding:8px 12px;background:rgba(255,255,255,0.1);border-radius:8px;border:1px solid rgba(255,255,255,0.2);">
                    <div style="width:24px;height:24px;background:#ccc;border-radius:4px;display:flex;align-items:center;justify-content:center;font-size:10px;color:#666;">PNG</div>
                    <span style="font-size:18px;font-weight:600;color:#fff;">+${rewards.xp} XP</span>
                </div>`;
            }
            
            overlay.innerHTML = `
                <div style="
                    background: linear-gradient(135deg, #2d6a4f 0%, #1b4332 100%);
                    padding: 24px 28px;
                    border-radius: 16px;
                    text-align: center;
                    animation: purchasePop 0.5s ease-out;
                    box-shadow: 0 8px 32px rgba(0,0,0,0.3);
                    border: 2px solid rgba(255,255,255,0.1);
                    max-width: 320px;
                    width: 90%;
                    position: relative;
                    overflow: hidden;
                ">
                    <!-- –î–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã -->
                    <div style="position:absolute;top:-20px;right:-20px;width:60px;height:60px;background:rgba(255,255,255,0.1);border-radius:50%;"></div>
                    <div style="position:absolute;bottom:-30px;left:-30px;width:80px;height:80px;background:rgba(255,255,255,0.05);border-radius:50%;"></div>
                    
                    <!-- –ò–∫–æ–Ω–∫–∞ -->
                    <div style="width:64px;height:64px;background:#ccc;border-radius:12px;margin:0 auto 16px;display:flex;align-items:center;justify-content:center;font-size:10px;color:#666;filter:drop-shadow(0 4px 8px rgba(0,0,0,0.3));">
                        PNG-image
                    </div>
                    
                    <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
                    <h3 style="margin:0 0 20px;font-size:24px;font-weight:700;color:#fff;text-shadow:0 2px 4px rgba(0,0,0,0.3);">
                        ${title}
                    </h3>
                    
                    <!-- –ù–∞–≥—Ä–∞–¥—ã -->
                    <div style="margin-bottom:24px;">
                        ${rewardsHTML}
                    </div>
                    
                    <!-- –ö–Ω–æ–ø–∫–∞ -->
                    <button id="reward-ok" style="
                        background: linear-gradient(135deg, #4caf50 0%, #45a049 100%);
                        border: none;
                        border-radius: 12px;
                        color: #fff;
                        font-size: 16px;
                        font-weight: 600;
                        padding: 12px 32px;
                        cursor: pointer;
                        transition: all 0.2s ease;
                        box-shadow: 0 4px 12px rgba(76,175,80,0.3);
                        text-transform: uppercase;
                        letter-spacing: 0.5px;
                    " onmouseover="this.style.transform='translateY(-2px)';this.style.boxShadow='0 6px 16px rgba(76,175,80,0.4)'" 
                       onmouseout="this.style.transform='translateY(0)';this.style.boxShadow='0 4px 12px rgba(76,175,80,0.3)'">
                        –û—Ç–ª–∏—á–Ω–æ!
                    </button>
                </div>
            `;
            
            overlay.style.display = 'flex';
            overlay.querySelector('#reward-ok').onclick = () => {
                overlay.style.display = 'none';
            };
        }

        // –¢–µ—Å—Ç–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
        function testSafePurchase() {
            showPurchaseNotification('–°–µ–π—Ñ –æ—Ç–∫—Ä—ã—Ç!', {
                money: 659,
                credits: 4,
                xp: 10
            }, 'safes');
        }

        function testCoinPurchase() {
            // –°–∏–º—É–ª–∏—Ä—É–µ–º –ø–æ–∫—É–ø–∫—É –º–æ–Ω–µ—Ç —Å —Ä–µ–¥–∫–æ—Å—Ç—å—é 3 (6 XP)
            showPurchaseNotification('–ú–æ–Ω–µ—Ç—ã –ø–æ–ª—É—á–µ–Ω—ã!', { credits: 100, xp: 6 }, 'coins');
        }
        function testSetPurchase() {
            // –°–∏–º—É–ª–∏—Ä—É–µ–º –ø–æ–∫—É–ø–∫—É –Ω–∞–±–æ—Ä–∞ —Å —Ä–µ–¥–∫–æ—Å—Ç—å—é 4 (20 XP)
            showPurchaseNotification('–ù–∞–±–æ—Ä –ë–ª—É–º–∏ –∫—É–ø–ª–µ–Ω!', { money: 750, xp: 20 }, 'sets');
        }

        function testReward() {
            showRewardNotification('–ó–∞–¥–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ!', {
                money: 500,
                credits: 25,
                xp: 50
            });
        }

        // –î–æ–±–∞–≤–ª—è–µ–º CSS –∞–Ω–∏–º–∞—Ü–∏—é
        const style = document.createElement('style');
        style.textContent = `
            @keyframes purchasePop {
                0% {
                    transform: scale(0.3) rotate(-10deg);
                    opacity: 0;
                }
                50% {
                    transform: scale(1.05) rotate(2deg);
                }
                100% {
                    transform: scale(1) rotate(0deg);
                    opacity: 1;
                }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html> 